$(function(){

    var modalForm          =   $('#modalForm');

	modalForm.formValidation({
        framework: 'bootstrap',
        icon: { valid: 'glyphicon glyphicon-ok', invalid: 'glyphicon glyphicon-remove', validating: 'glyphicon glyphicon-refresh' },
        excluded: ':disabled',
        fields: {
            full_name: {
                validators: {
                    notEmpty: { message: 'Write your full name' },
                    stringLength: { min: 2, max: 15, message: 'Full name must be between 2 to 15 charecters.' },
                    regexp: { regexp: /^[A-Za-z\s]+$/, message: 'Proveide your real name' }
                }
            },

            email: {
                validators: {
                    notEmpty: { message: 'Please enter your email.' },
                    emailAddress: { message: 'Your email is not valid.' }
                }
            }
        }
    })
	.on('success.form.fv', function(e, data) {
        e.preventDefault();
        var $form = $(e.target);

        $form.find('button[type="submit"]').html('<i class="fa fa-lg fa-refresh fa-spin"></i>');

        // Ajax form request
        var fv    	=	$form.data('formValidation');
        var action 	=	$form.attr('action');
        var method 	=	$form.attr('method');
        var route   =   $form.data('redirect');

        $.ajax({ 
            url: action,
            type: 'POST',
            data: $form.serialize(),
            dataType: 'json',
            success : function(response) {
                console.log(response);
                // if (response.success) {
                //     window.location = route;
                // }else {
                    
                // }
                $form.find('button[type="submit"]').html('YES! RESERVE MY SEAT NOW!');
            }
        });
    });

});